const { PrismaClient } = require('@prisma/client')

const prisma = new PrismaClient()

async function updateUsers() {
  try {
    console.log('ğŸ”„ ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±æ›´æ–°ã‚’é–‹å§‹ã—ã¾ã™...\n')

    // ã‚¿ã‚¹ã‚¯1: ç”°ä¸­å¤ªéƒï¼ˆID: 1ï¼‰ã®å¹´é½¢ã‚’26æ­³ã«æ›´æ–°
    console.log('ğŸ“ ã‚¿ã‚¹ã‚¯1: ç”°ä¸­å¤ªéƒã®å¹´é½¢æ›´æ–°')
    
    // TODO: prisma.user.update()ã‚’ä½¿ã£ã¦ç”°ä¸­å¤ªéƒã®å¹´é½¢ã‚’26ã«æ›´æ–°ã—ã¦ãã ã•ã„
    const updatedTaro = await /* ã“ã“ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ */
    
    console.log(`âœ… ç”°ä¸­å¤ªéƒã®å¹´é½¢ã‚’${updatedTaro.age}æ­³ã«æ›´æ–°ã—ã¾ã—ãŸ\n`)

    // ã‚¿ã‚¹ã‚¯2: å­˜åœ¨ã—ãªã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆID: 999ï¼‰ã®æ›´æ–°ã‚’è©¦ã¿ã‚‹ï¼ˆã‚¨ãƒ©ãƒ¼ä½“é¨“ï¼‰
    console.log('ğŸ“ ã‚¿ã‚¹ã‚¯2: å­˜åœ¨ã—ãªã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ›´æ–°')
    
    try {
      // TODO: å­˜åœ¨ã—ãªã„IDï¼ˆ999ï¼‰ã§ã®æ›´æ–°ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„
      // ãƒ’ãƒ³ãƒˆ: ã“ã®å‡¦ç†ã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã¯ãšã§ã™
      await /* ã“ã“ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ */
      
      console.log('âš ï¸  äºˆæœŸã—ãªã„æˆåŠŸï¼ˆæœ¬æ¥ã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã¯ãšï¼‰')
    } catch (error) {
      // TODO: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¦ãã ã•ã„
      // ãƒ’ãƒ³ãƒˆ: é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºåŠ›
      console.log(/* ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã“ã“ã«å®Ÿè£… */)
    }

    // ã‚¿ã‚¹ã‚¯3: upsertã‚’ä½¿ã£ãŸå®‰å…¨ãªæ›´æ–°/ä½œæˆ
    console.log('\nğŸ“ ã‚¿ã‚¹ã‚¯3: upsertã«ã‚ˆã‚‹å®‰å…¨ãªæ›´æ–°/ä½œæˆ')
    
    // TODO: upsertã‚’ä½¿ã£ã¦å±±ç”°èŠ±å­ã®ãƒ‡ãƒ¼ã‚¿ã‚’å‡¦ç†ã—ã¦ãã ã•ã„
    // å­˜åœ¨ã—ãªã„å ´åˆã¯ä½œæˆã€å­˜åœ¨ã™ã‚‹å ´åˆã¯æ›´æ–°
    const yamada = await /* ã“ã“ã«upsertå®Ÿè£… */
    
    console.log(`âœ… å±±ç”°èŠ±å­ã‚’å‡¦ç†ã—ã¾ã—ãŸ (ID: ${yamada.id})`)

    console.log('\nğŸ‰ æ›´æ–°å‡¦ç†ãŒå®Œäº†ã—ã¾ã—ãŸï¼')

    // çµæœç¢ºèª: å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡¨ç¤º
    console.log('\n=== ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ ===')
    // TODO: å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å–å¾—ã—ã¦è¡¨ç¤ºã—ã¦ãã ã•ã„
    const allUsers = await /* ã“ã“ã‚’å®Ÿè£… */
    
    allUsers.forEach(user => {
      console.log(`ID: ${user.id}, åå‰: ${user.name}, å¹´é½¢: ${user.age}`)
    })

  } catch (error) {
    console.error('âŒ æ›´æ–°å‡¦ç†ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:', error)
  } finally {
    // TODO: Prismaã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’åˆ‡æ–­ã—ã¦ãã ã•ã„
    
  }
}

// TODO: updateUsersé–¢æ•°ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„